c
system(command)
n
command
n
message
n
c
system(command)
command
n
c
n
c
system(command)
system
n
command
n
message
n
c
transaction
n
error
n
error
n
c
error
n
order
cart
c
error
n
order.order_items.count
cart
c
n
order.save
order
n
c
session[:customer_name]
session[:customer]
session
c
PaymentMethod.find_by(name: "Efectivo") || PaymentMethod.first
default_payment_method
default_payment_method.id
current_user.id
cart_calculator.totals[:total]
params[:status] || Order::STATUSES[:on_hold]
Time.current
n
c
n
order_type
n
c
order_attributes
n
c
params
current_user
session[:cart]
session
c
error
n
cart_calculator.totals[:total]
cart_calculator.totals
cart_calculator
Time.current
n
order = create_order
create_order
order
c
session[:discount_percentage]
session[:discount_reason]
session
c
order_payment_params
order_payment
order_paryment[:order_id]
params[:order_id]
params
c
params
c
@order.order_type
@order
@order.cancelled!
@order.cancelled
@order
c
text.downcase
c
icon
n
text.downcase
text
c
nc
c
order
order = Order.new(
      order_date: Time.current,
      status: params[:status] || Order::STATUSES[:on_hold],
      total_amount: totals[:total],
      user_id: current_user.id,
      payment_method_id: payment_method.id,
      customer_id: customer_id,
      order_type: params[:order_type]
    )
session[:customer_id].presence
session[:customer_id]
session
c
order
n
payment_method
n
c!
c
product_json
product
